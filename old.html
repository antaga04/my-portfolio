<div id="nav-icons-section" class="nav-section">
  <ul class="social-icons">
    <li><a href="https://www.linkedin.com/in/adrian-anta-gil/" aria-label="Explore my LinkedIn" rel="noopener"
        target="_blank">
        <i class="fa-brands fa-linkedin-in"></i></a></li>
    <li><a href="https://github.com/antaga04/" aria-label="Explore my GitHub" rel="noopener" target="_blank">
        <i class="fa-brands fa-github"></i></a></li>
  </ul>
</div>

<div class="header__extra">
  <div class="menu">
    <button class="menu-btn" aria-label="Menu burger">
      <div class="bars-container">
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </button>

    <aside class="menu-slider hidden">
      <nav class="menu-nav hidden">
        <ul>
          <li><a class="nav-link slider" href="/" nav-path="/">Home</a></li>
          <li><a class="nav-link slider" href="/projects" nav-path="/projects">Projects</a></li>
          <li><a class="nav-link slider" href="/about" nav-path="/about">About</a></li>
          <li><a class="nav-link slider" href="/contact" nav-path="/contact">Contact</a></li>
          <div style="display: flex;">
            <a class="slider" href="https://www.linkedin.com/in/adrian-anta-gil/" rel="noopener" target="_blank">
              <i class="fa-brands fa-linkedin-in"></i></a>
            <a class="slider" href="https://github.com/antaga04/" rel="noopener" target="_blank">
              <i class="fa-brands fa-github"></i></a>
          </div>
        </ul>
      </nav>
    </aside>
  </div>

  <div class="pen-nib__gear special-border">
    <span>Settings</span>
    <button class="nib-btn" aria-label="Settings">
      <i class="fa-solid fa-pen-nib"></i>
    </button>
    <ul class="magic-menu special-border">
      <li id="theme"><button aria-label="Theme">🌙</button></li>
      <li id="text-align" class="applied">
        <button aria-label="Justify content"><i class="fa-solid fa-align-justify"></i></button>
      </li>
      <li>
        <select name="lang" id="lang">
          <option value="en">en</option>
          <option value="es">es</option>
        </select>
      </li>
    </ul>
  </div>
</div>


<a href="/projects" link-path="/projects" class="ticket">
  <div class="home__btn ticket__title">
    <p>CHECK MY WORK</p>
  </div>
</a>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const navLinks = document.querySelectorAll('.nav-link');
    const menuShape = document.querySelector('.menu_shape');

    function updateMenuShape() {
      const activeLink = document.querySelector('.nav-link.active-link');
      if (activeLink) {
        const linkRect = activeLink.getBoundingClientRect();
        const navRect = activeLink.closest('.nav-3').getBoundingClientRect();

        // Aplicar clase para ancho mayor durante la transición
        menuShape.classList.add('moving');

        // Establecer posición y ancho inicial de 7em
        menuShape.style.left = `${linkRect.left - navRect.left}px`;
        menuShape.style.width = `7.2rem`;
        menuShape.style.opacity = '1';

        // Después de la transición, establecer el ancho final de 100px
        setTimeout(() => {
          menuShape.classList.remove('moving');
          menuShape.style.width = `100px`;
        }, 300); // El tiempo debe coincidir con la duración de la transición en CSS
      }
    }

    navLinks.forEach((link) => {
      link.addEventListener('click', (event) => {
        event.preventDefault();
        navLinks.forEach((link) => link.classList.remove('active-link'));
        link.classList.add('active-link');
        updateMenuShape();
      });
    });

    // Inicializa el menu_shape para el enlace activo, si existe
    const activeLink = document.querySelector('.nav-link.active-link');
    if (!activeLink && navLinks.length > 0) {
      navLinks[0].classList.add('active-link');
    }
    updateMenuShape();
  });

  const convertToDate = (dateStr) => {
    const [day, month, year] = dateStr.split('.').map(Number);
    return new Date(`20${year}-${month}-${day}`);
  };
// deployedProjects.sort((a, b) => convertToDate(b.date) - convertToDate(a.date));
</script>